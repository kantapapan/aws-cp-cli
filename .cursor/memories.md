# AWS CP CLI プロジェクトメモリーズ

このファイルはAWS認定クラウドプラクティショナーCLI開発プロジェクトの知見や教訓を蓄積するためのメモリーズです。プロジェクト全体を通じて得られた重要な知識を長期的に保存し、後続のタスクで活用します。

## 使用方法

タスク完了後に知見を追記する際には次のコマンドを使います：

```
今回得た知見を @memories-management.mdc に従って整理し、
@memories.md に追記候補を出してください。
```

特定の知見を参照する際には次のコマンドを使います：

```
[トピック]に関する既存の知見を @memories.md から確認してください。
```

## メモリーズエントリ

### [2024-03-21] 多言語対応の実装パターン #architecture #localization

- 言語設定の一元管理
  - 言語選択UIは`MainMenu.ts`で集中管理
  - リポジトリ層（`JsonQuestionRepository`）で言語フィルタリングを実装
  - 言語パラメータは'jp'のみに固定化することで、将来的な拡張性を考慮

- 試験結果表示の改善
  - `CliExamPresenter`で不正解問題の詳細表示を実装
  - 正解/不正解の視覚的区別（chalkを使用した色分け）
  - 問題の解説を含めたフィードバック機能

- サンプルデータ管理
  - 問題データはJSON形式で管理
  - 各問題に言語、ドメイン、解説などのメタデータを付与
  - ドメイン別の問題数バランスを考慮した設計

### [2023-11-01] 初期プロジェクト設定 #setup #architecture

- プロジェクトはClean Architecture原則に従って構造化
  - domain: エンティティとビジネスルール
  - usecase: アプリケーションのユースケース
  - interface-adapter: 外部インターフェースの抽象化
  - infra: 具体的な実装
- ESModulesを使用 (package.jsonのtype: "module")
- TypeScriptコンパイラ設定で実験的デコレータとメタデータ反映を有効化
- 依存性注入にtsyringeを使用

### [2023-11-01] 依存性注入のベストプラクティス #pattern #di

- tsyringeを使用する際の注意点：
  - すべてのクラスに`@injectable()`デコレータを追加する
  - パラメータを受け取るコンストラクタの場合は`@inject()`デコレータも必要
  - リポジトリやストアのコンストラクタはパラメータなしで実装し、内部で初期化する
- DIコンテナの設定は集中管理（src/infra/cli.tsのsetupDependencies関数） 